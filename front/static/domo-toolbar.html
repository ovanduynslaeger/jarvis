<dom-module id="domo-toolbar">
    <style>
    
    .title {
      padding: 0;
    }
    
    paper-icon-button {
        padding: 0px;
        margin-right: 12px;
        width: 32px;
        height: 32px;
    }
    
    
    </style>

  <template>
   <paper-icon-button icon="menu" on-tap="toggleHeaderPanel"></paper-icon-button>
   <div class="flex title">Jarvis</div>
   <paper-icon-button icon="star" on-tap="toggleFavorite"></paper-icon-button>
   <template is="dom-if" if="{{selected}}">
     <paper-icon-button icon="arrow-back" on-tap="back"></paper-icon-button>
   </template>        
  </template>

  <script>
  Polymer({
      is: "domo-toolbar",
      properties: {
                selected: {
                  type: Number,
                  value: 0
                }
                },
    toggleFavorite: function(e) {
      var target = e.target;
      var tmain = document.getElementById('tmain');
      if (tmain.devices.myfav) {
          target.icon="star-border";
      } else {
          target.icon="star";
      }
      tmain.set("devices.myfav",!tmain.devices.myfav);
      //tmain.devices.myfav=!tmain.devices.myfav;
    },
    back: function() {
      var tmain = document.getElementById('tmain');
      tmain.selected = 0;
    },
    toggleHeaderPanel: function() {
      var drawerPanel = document.getElementById('drawerPanel');
      drawerPanel.togglePanel();
    }

  });
  
  </script>
  
</dom-module>

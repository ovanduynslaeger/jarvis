doctype html
html.no-js(lang='en')
head
 meta(charset='utf-8')
 meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
 meta(name="description", content=description)
 meta(name="author", content=author)
 meta(name="viewport", content='width=device-width, initial-scale=1')

 //JS
 link(rel="import", href="/bower_components/polymer/polymer.html")
 script(src="/bower_components/webcomponentsjs/webcomponents-lite.min.js")
 script(src='/front/static/js/jquery-1.11.1.min.js') 
 
 // Components
 link(rel="import", href="/bower_components/paper-button/paper-button.html")
 link(rel="import", href="/bower_components/paper-icon-button/paper-icon-button.html")
 link(rel="import", href="/bower_components/paper-drawer-panel/paper-drawer-panel.html")
 link(rel="import", href="/bower_components/paper-header-panel/paper-header-panel.html")
 link(rel="import", href="/bower_components/paper-toolbar/paper-toolbar.html") 
 link(rel="import", href="/bower_components/iron-icons/iron-icons.html")
 link(rel="import", href="/bower_components/iron-flex-layout/iron-flex-layout.html")
 link(rel="import", href="/bower_components/iron-flex-layout/classes/iron-flex-layout.html")

 link(rel="import", href="/bower_components/paper-icon-button/paper-icon-button.html")
 link(rel="import", href="/bower_components/paper-item/paper-item.html") 
 link(rel="import", href="/bower_components/neon-animation/neon-animation.html")
 link(rel="import", href="/bower_components/neon-animation/neon-animatable.html")
 link(rel="import", href="/bower_components/iron-icons/av-icons.html")
 link(rel="import", href="/bower_components/iron-icons/hardware-icons.html")
 link(rel="import", href="/bower_components/iron-icons/image-icons.html")
 link(rel="import", href="/bower_components/iron-icons/communication-icons.html")
 link(rel="import", href="/bower_components/iron-icons/editor-icons.html")
 link(rel="import", href="/bower_components/iron-icons/device-icons.html")
 link(rel="import", href="/bower_components/iron-icons/maps-icons.html")
 link(rel="import", href="/bower_components/paper-fab/paper-fab.html")
 link(rel="import", href="/bower_components/paper-menu/paper-menu.html")
 link(rel="import", href="/bower_components/paper-tooltip/paper-tooltip.html")
 link(rel="import", href="/bower_components/iron-collapse/iron-collapse.html")
 link(rel="import", href="/bower_components/paper-dialog/paper-dialog.html")
 link(rel="import", href="/bower_components/paper-ripple/paper-ripple.html")
 link(rel="import", href="/bower_components/paper-toast/paper-toast.html")
 link(rel="import", href="/bower_components/paper-slider/paper-slider.html")
 link(rel="import", href="/bower_components/paper-menu-button/paper-menu-button.html")
 link(rel="import", href="/bower_components/iron-dropdown/iron-dropdown.html")
 link(rel="import", href="/front/static/domo-device.html")
 link(rel="import", href="/front/static/domo-category.html")
 link(rel="import", href="/front/static/domo-menu.html") 
 link(rel="import", href="/front/static/domo-control.html")
 link(rel="import", href="/front/static/domo-toolbar.html")
 link(rel="import", href="/front/static/nav-dialog.html")
 link(rel="import", href="/front/static/help-dialog.html")
 link(rel="import", href="/front/static/domo-page.html")
 link(rel="import", href="/front/static/domo-swipe.html")
 link(rel="import", href="/front/static/domo-control-solo.html")
 
 // Font
 link(rel="import", href="/bower_components/font-roboto/roboto.html")

 // CSS
 link(rel="stylesheet", href="/front/static/css/main.css")

body(unresolved,class="layout horizontal wrap fullbleed")
 template(id="tmain",is="dom-bind")
  paper-header-panel(main,mode="waterfall",class="flex")
   paper-toolbar(id="toolbar")
    domo-toolbar(id="domo-bar",class="layout horizontal flex")
  domo-swipe(class="fit",max="2")
   neon-animated-pages(message="essai",id="controls",class="flex",selected="[[selected]]",entry-animation="[[entryAnimation]]",exit-animation="[[exitAnimation]]")
    template(is="dom-repeat",items="[[devices]]",as="device")
     template(is="dom-repeat",items="{{device.cmds}}",as="control")
      template(is="dom-if",if="{{control.display.parameters.solo}}")
       domo-control-solo(control="{{control}}",class="layout vertical center")

 script.
    var tmain = document.querySelector('#tmain');
    tmain.selected = 0;
    favorite=true;

    var items = [];
    for (var cat in !{categories}) {
       items.push(!{categories}[cat]);
    }
    tmain.items=items;

    var devices = [];
    for (var dev in !{devices}) {
       devices.push(!{devices}[dev]);
    }
    tmain.devices = devices;

    function sendURL(url) {
       $.get(url,function(data,status) {
       });
    }


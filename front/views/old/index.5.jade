extends layout
block head
 link(rel="import", href="/bower_components/paper-icon-button/paper-icon-button.html")
 link(rel="import", href="/bower_components/paper-item/paper-item.html") 
 link(rel="import", href="/bower_components/neon-animation/neon-animation.html")
 link(rel="import", href="/bower_components/neon-animation/neon-animatable.html")
 link(rel="import", href="/bower_components/iron-icons/av-icons.html")
 link(rel="import", href="/bower_components/iron-icons/hardware-icons.html")
 link(rel="import", href="/bower_components/iron-icons/image-icons.html")
 link(rel="import", href="/bower_components/iron-icons/communication-icons.html")
 link(rel="import", href="/bower_components/iron-icons/editor-icons.html")
 link(rel="import", href="/bower_components/iron-icons/device-icons.html")
 link(rel="import", href="/bower_components/iron-icons/maps-icons.html")
 link(rel="import", href="/bower_components/paper-fab/paper-fab.html")
 link(rel="import", href="/bower_components/paper-menu/paper-menu.html")
 link(rel="import", href="/bower_components/paper-tooltip/paper-tooltip.html")
 link(rel="import", href="/bower_components/iron-collapse/iron-collapse.html")
 link(rel="import", href="/bower_components/paper-dialog/paper-dialog.html")
 link(rel="import", href="/bower_components/paper-slider/paper-slider.html")
 link(rel="import", href="/bower_components/paper-menu-button/paper-menu-button.html")
 link(rel="import", href="/bower_components/iron-dropdown/iron-dropdown.html")
 link(rel="import", href="/front/static/domo-device.1.html")
 link(rel="import", href="/front/static/domo-category.html")
 link(rel="import", href="/front/static/domo-menu.html") 
 link(rel="import", href="/front/static/domo-control.html")
 link(rel="import", href="/front/static/domo-toolbar.html")
 link(rel="import", href="/front/static/nav-dialog.html")
 link(rel="import", href="/front/static/help-dialog.html")
 link(rel="import", href="/front/static/domo-page.html")
 
block main
 template(id="tmain",is="dom-bind")
  paper-drawer-panel(force-narrow,id="drawerPanel")
   paper-header-panel(drawer,class="menu",mode="waterfall")
    domo-menu(menu="Menu")
   paper-header-panel(main,mode="waterfall")
    paper-toolbar(id="toolbar")
     domo-toolbar(id="domo-bar",class="layout horizontal flex",selected="[[selected]]",favorite="[[favorite]]")
    neon-animated-pages(id="pages",class="flex",selected="[[selected]]",entry-animation="scale-up-animation",exit-animation="scale-down-animation")
     div(id="container",class="horizontal wrap layout")
      template(id="tcategory",is="dom-repeat",items="{{items}}",as="category")
       domo-category(level="{{category.level}}",bgc="{{category.secondcolor}}",img="{{category.photo}}",style="width: 49.8%")
     template(is="dom-repeat",items="{{items}}",as="category")
      domo-page(category="{{category}}",devices="{{devices}}",selected="[[selected]]",favorite="{{favorite}}")
        
  nav-dialog
  help-dialog

 script.
    var tmain = document.querySelector('#tmain');
    tmain.selected = 0;
    favorite=false;
    //tmain.favorite = false;

    var items = [];
    for (var cat in !{categories}) {
       items.push(!{categories}[cat]);
    }
    tmain.items=items;

    var devices = [];
    for (var dev in !{devices}) {
       devices.push(!{devices}[dev]);
    }
    tmain.devices = devices;

    function sendURL(url) {
       $.get(url,function(data,status) {
       });
    }

    addEventListener('dom-change', function(e) {

       toggleFavorite2 = function() {
         if (favorite) {
          favorite = false;
         } else {
          favorite = true;
         }
       }
      }

    )
